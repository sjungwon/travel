<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <style>
        .col{
            max-width: calc(100% / 12)
        }
        p {
            white-space: nowrap;
            overflow-x: auto;
        }
    </style>
    <title>차단된 사용자 목록</title>
</head>
<body>
<table class="table">
    <thead>
    <tr>
        <th scope="col">#</th>
        <th scope="col">권한</th>
        <th scope="col">아이디</th>
        <th scope="col">닉네임</th>
        <th scope="col">이메일</th>
        <th scope="col">생성일</th>
        <th scope="col">수정일</th>
        <th scope="col">정지</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="user, iterStat : ${users}">
        <th scope="row" th:text="${iterStat.index}">1</th>
        <th th:text="${user.role.kr}">권한</th>
        <th>
            <p th:unless="${loginUser.role.id < user.role.id}" th:text="${user.account}" th:href="@{{users}/{id} (users=#{href.admin.users}, id=${user.id})}">아이디</p>
            <a th:if="${loginUser.role.id < user.role.id}" th:text="${user.account}" th:href="@{{users}/{id} (users=#{href.admin.users}, id=${user.id}, listPath='banned')}">아이디</a>
        </th>
        <th th:text="${user.nickname}">닉네임</th>
        <th th:text="${user.email}">이메일</th>
        <th th:text="${{user.createdAt}}">생성일</th>
        <th th:text="${{user.updatedAt}}">수정일</th>
        <th>
            <form th:if="${loginUser.role.id < user.role.id}" th:action="@{{unban}/{id} (unban = #{href.admin.unban}, id=${user.id})}" method="post">
                <button class="btn btn-primary btn-sm" onclick="return confirm('정말 정지를 해제하시겠습니까?')">정지 해제</button>
            </form>
        </th>
    </tr>
    </tbody>
</table>
<a class="btn btn-primary" href="/admin" th:href="@{{default} (default=#{href.admin.default})}">관리자 페이지</a>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
</body>
</html>